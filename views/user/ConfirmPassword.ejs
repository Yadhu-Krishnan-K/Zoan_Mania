<%-include('header');-%>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<div class="form-gap" style="padding-top: 70px;"></div>
<div class="container">
	<div class="row">
		<div class="col-md-4 col-md-offset-4">
            <div class="panel panel-default">
              <div class="panel-body">
                <div class="text-center">
                  <h3><i class="fa fa-lock fa-4x"></i></h3>
                  <h2 class="text-center">Confirm Password?</h2>
                  <% if(locals.error){ %>
                  <div id="err" style="display: none;">
                    <%= error %>
                  </div>
                  <% } %>
                  <p>You can reset your password here.</p>
                  <div style="display: none;" id="alertDiv" class="alert alert-success text-center"></div>
                  <div class="panel-body">
    
                    <form id="register-form" action="/confirmation-pass" role="form"  class="form" method="post">
    
                      <div class="form-group">
                        <div class="input-group">
                          <!-- <span class="input-group-addon"><i class="glyphicon glyphicon-envelope color-blue"></i></span> -->
                          <input id="Pass" name="password" placeholder="Enter Password" class="form-control"  type="password">
                        </div>
                        <div class="input-group mt-3">
                            <!-- <span class="input-group-addon"><i class="glyphicon glyphicon-envelope color-blue"></i></span> -->
                            <input id="Cpass" name="ConfirmPass" placeholder="Confirm Password" class="form-control"  type="password">
                          </div>
                      </div>
                      <div class="form-group">
                        <input name="recover-submit" class="btn btn-lg btn-primary btn-block" value="Reset Password" type="submit">
                      </div>
                      
                      <!-- <input type="hidden" class="hide" name="token" id="token" value="">  -->
                    </form>
    
                  </div>
                </div>
              </div>
            </div>
          </div>
	</div>
</div>
<script>
    document.getElementById('register-form').addEventListener("submit",(e)=>{
        let Pass=document.getElementById('Pass').value
        let Cpass=document.getElementById('Cpass').value
        //---------------------------------------------------
        if(Pass===Cpass && Pass.length>=8 && /[a-zA-Z]/.test(Pass) && /\d/.test(Pass) && /[!@#$%^&*()_+{}\[\]:;<>,.?~\\\-]/.test(Pass) && !/\s/.test(Pass)){
            return true
        }else{
            e.preventDefault()
            document.getElementById('alertDiv').style.display = "block";
            document.getElementById('alertDiv').innerHTML = "Password must contain at least 8 characters, including one alphabetic letter, one number, one special character, and no spaces. Passwords must also match.";
        

        // Hide the error message after 5 seconds
        setTimeout(function () {
            document.getElementById('alertDiv').style.display = "none";
        }, 4000);
        }
        //--------------------------------------------------------
    })
    let errr = document.getElementById('error')
    if(errr){
      
      errr.style.display='block'
      // errr.innerHTML = 'user doesnot exist'
      setTimeout(()=>{
        // errr.innerHTML = ''
        errr.style.display='none'
      },4000)
    } 
</script>
<%- include('footer') -%>
                   