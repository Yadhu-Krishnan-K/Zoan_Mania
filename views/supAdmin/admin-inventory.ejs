<%- include('../layouts/admin/header'); -%>
<div class="col-md-12">
  
  <h1>Inventory</h1>
    <div class="d-flex mt-3 justify-content-between" style="width: 100%;">
      <div class="search-op">
        <!-- <input type="search" name="search" id="search"> -->
      </div>
      <div class="addProduct">
        <a href="/admin/inventory/addProduct"><button>Add product</button></a>
      </div>
    </div> 
  
    <div class="d-flex justify-content-center  align-items-center" style="width: 100%;">
      <div class="table table-responsive mt-3" style="width: 90%;">
          <table class="table table-striped table-bordered">
              <thead>
                  <tr>
                      <th class="thed" scope="col">No.</th>
                      <th class="thed" scope="col">Product</th>
                      <th class="thed" scope="col">Category</th>
                      <th class="thed" scope="col">Stock</th>
                      <th class="thed" scope="col">Price</th>
                      <th class="thed" scope="col">Image</th>
                      <th class="thed" scope="col">Status</th>
                      <th class="thed" scope="col">Updated Date</th>
                      <th class="thed" scope="col">Edit/Delete</th>
                  </tr> 
              </thead>
              <tbody>
                <% products.forEach((product)=>{ %>
    
                
                  <tr>
                    
                    <td>
                      <%= ++i %>
                    </td>
                    <td>
                      <%= product.Name %>
                    </td>
                    <td>
                      <%= product.Category %>
                    </td>
                    <td>
                      <%= product.Stock %>
                    </td>
                    <td>
                      <%= product.Price %>
                    </td>
                    <td>
                      <img height="100px" style="border-radius: 12px;" width="100px" src="/uploads/<%= product.Image[0] %>" alt="img">
                    </td>
                    <td>
                      <%if(product.visible == true){%>
                    
                        <p>Active</p>
                        
                      <%}else{%>
                        <p>Deleted</p>  
                      <% } %>
                    </td>
                    <td><%let date=new Date(product.createdAt)%>
                      <%=date.getDate()%>/<%=date.getMonth()%>/<%=date.getFullYear()%></td>
                    <td class="d-flex justify-content-evenly"> <i style="display: block;"><a href="/admin/edit-product/<%- product._id%>"><i class="fa-regular fa-pen-to-square "></i></a> </i> <i style="display: block;"><a href="/admin/delete-product/<%-product._id%>" onclick="return confirm('Do you want to delete the <%- product.Name %>')"><i class="fa-solid fa-trash "></i></a></i> </td>
                  </tr>
                <% }) %>
              </tbody>
          </table>
          <div class="col-12 d-flex justify-content-end">
            <nav aria-label="Page navigation" class="m-3">
              <ul class="pagination ">
                <% for(i=1;i<=pageNums;i++){ %>
                  <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                    <a class="page-link" href="?page=<%= i %>">
                      <%= i %>
                    </a>
                  </li>
                  <% } %>
              </ul>
            </nav>
          </div>
      
      </div>
    </div>
</div>
<%- include('../layouts/admin/footer'); -%>